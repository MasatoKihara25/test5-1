# 第五回課題 #
## URLとは ##
URLは「**Uniform Resource Locator**」の略でホームページを置いている場所またはファイル名などを示す情報である。

### URLの構成 ###
~~~
1. スキーム名
2. ドメイン名
3. ディレクトリ名(フォルダ名)
4. ファイル名
5. ファイル拡張子
~~~
URLは上記5つから構成されている。
それぞれ、「/」(スラッシュ) や 「.」(ドット )で区切られる。

![image](https://github.com/MasatoKihara25/task5/assets/162205053/88da2079-506f-47a4-82b9-c3d0fba2b667)

### スキーム名 ###
Webブラウザがリソースをリクエストする時に使用するプロトコルである。通常は`http`または`https`が用いられる。

### ドメイン名 ###
IPアドレスを文字列にしたものである。IPアドレスとはインターネット上の住所のようなものでネットワークに存在する機器を識別する数値`例:198.51.110.2`である。  
数値で成り立っているので、ユーザーからしてみればわかりづらい。そこでユーザーが分かりやすいようにIPアドレスから文字列に変換している。
### ディレクトリ名 ###
Webサーバーでファイルを格納するためのフォルダである。
### ファイル名 ###
Webサーバーのディレクトリ内に格納されたファイルのことをいう。
### ファイル拡張子 ###
ファイルの種類を表す目印である。上記のファイル拡張子は `.html` であるが、これはファイルがＨＴＭＬの作成されたファイルであることを意味している。  
またファイル拡張子には、画像ファイルであれば`.png`や`.jpeg`。Javaで作成されたファイルであれば`.Java`のように表示される。


## クエリ文字列 ##

クエリ文字列は、**Webサーバー上に情報を送るためにＵＲＬの末尾に付加する文字列である。**  
**URLパラメーター**や **クエリストリング**といった名称で呼ばれることもある。

![image](https://github.com/MasatoKihara25/task5/assets/162205053/8fbfbeed-1fad-4478-985b-7852d8292890)

クエリ文字列はURL末尾「?」以下の文字列である  
`?ref = deeboara`  
値が複数ある場合は「＆」で区切る。  
`?〇〇 = △△ & ◇◇ = ✕✕ `  
またクエリ文字列は***アクティブパラメータ***と***パッシブパラメータ***の2種類ある。

### アクティブパラメータ  ###
アクティブパラメータとは、付与することで表示させるページの内容が変わるタイプのクエリ文字列である。  
例えば、ECサイトで絞り込み検索や並び替えが例として挙げられる。

### パッシブパラメータ ###
パッシブパラメータとは、付与しても表示されるページに変化が起こらないクエリ文字列のことである。  
例えば、以下の二つのパッシブパラメータを持つURLがあるとする

`https://◯◯.co.jp/shampoo-a/lp?utm_source=yahoo`

`https://◯◯.co.jp/shampoo-a/lp?utm_source=twitter`

この二つは、URLは違うが表示されるWebページは同じである。  
しかし、どの媒体、広告からユーザーが訪問しているかといった情報が判別できるため、集客分析を細かく行うことができる。

## パスパラメータ（パス変数）とは ##

パスパラメータは、*URLパラメータの一種として、URLのパスの中に埋め込まれた変数のようなものである。*

以下のURLの`/users/12345`の部分がパスパラメータの例である。

`http://example.com/users/12345`

上記では、`12345`の部分がユーザーIDを示す変数となっている。

このように**URL末尾に動的な値をパスの一部として指定することがパスパラメータ**である。

パスパラメータの記述方法は以下のとおりとなる。

`/リソース名/{パラメータ名}`

例) 特定のユーザー情報を表示した場合   
`/users/｛usersId｝`

例) 特定の商品情報を表示したい場合  
`/products/{productsId}`

上記では、`/｛usersId｝`が**パスパラメータ**となる。

実際のリクエストの際には、｛｝内の部分を値に置き換えて利用する。　　
`/users/12345`  
`/products/12345`

このようにパスの一部を動的に扱うことで動的な指定が可能となる。

## クエリ文字列とパスパラメータ－の違いとは ##

**パスパラメータ**とは、特定の画面を表示する時に必要。

例えば、Webサイト内で商品を検索する時に食べ物のカテゴリーを表示したいとする。

`https://〇〇〇〇.com/category/foods`

上記のURLの `/foods`がパスパラメータとなり、商品検索の食べ物のカテゴリーが表示される。

一方で、クエリ文字列とは、特定の画面に条件を与える時に必要。

例えば、先ほどの商品検索で食べ物のカテゴリーのページを表示している時に、中華を絞りこむとする。

`https://hogehoge.com/category/foods/?word=Chinese`

上記のURLでの `/?word=Chinese`がクエリ文字列となり、食べ物のカテゴリーのページで中華料理を絞りこむことができる。

またクエリ文字列は複数指定することができる。

`https://hogehoge.com/category/foods/?word=chinese&order=desc`

上記では、食べ物のカテゴリーのページで、中華料理を絞り込み、それを降順で表示することができる。

このように、クエリ文字列はWebサイトのページにオプションを指定する場合に使用される。

## HTTPメソッドとは ##

まずHTTPとは、WebサーバーとクライアントのWebブラウザが、データを送受信するためのプロトコルである。  
プロトコルとはコンピュータ同士で通信する際に決められた規格や手順である。

基本的な立ち位置としては、**クライアント側が要求し、サーバー側が処理する**という形となっている。

クライアントが行う要求には種類があり、それを短い文字列に示したのがHTTPメソッドという。

HTTPメソッドの種類を以下の表にまとめる。

![image](https://github.com/MasatoKihara25/task5/assets/162205053/f3990905-604c-410f-a1e3-237cb4ae24bd)

上記のHTTPメソッドのうち、**GET**、**POST**、**PUT**、**DELETE**の４つは「**CRUD**」の性質を満たすため、HTTPメソッドの中での代表的なメソッドである。  
CRUDというのは、Create(作成する)、Read(読み込みする)、Update(更新する)、Delete(削除)といったデータを操作する上で基本となる操作である。

## HTTPリクエストとHTTPレスポンスとは ##

HTTPでは基本的にクライアント側が要求を送り、サーバー側が応答を返す形でデータのやり取りが行われる。  
この*クライアント側がサーバー側に要求を送ること*を**HTTPリクエスト**、*サーバー側が応答を返すこと*を**HTTPレスポンス**という。

### HTTPリクエストの構成　###

![image](https://github.com/MasatoKihara25/task5/assets/162205053/e322fd41-1b7f-4fad-87b1-027671b06df7)

**リクエスト行**とは、Webサーバーに対する命令に相当する部分であり、  
「**メソッド / URL プロトコル/バージョン**」の形式で構成させる。  
(例:リクエスト行参照)  
`GET / index.html HTTP/1.1`  
例の場合は、`/index.html` を`ＨＴＴＰ/1.1`のバージョンで**GET**するという意味になる。

**ヘッダーフィールド**(**リクエストヘッダー**)は、リクエスト行の詳細な内容を改行で区切って列挙した形式で記述される。  
個々のフィールドは「**フィールド名：値**」という簡潔な書式となっている。

主なフィールドとしては以下が挙げられる。
~~~
1. 「Host」（送信先のドメイン名とポート番号）  
2. 「Referer」（参照元ページのURL）  
3. 「User-Agent」（クライアントソフトの識別名）  
4. 「Cookie」（ブラウザ側に保存されたサイトデータ）  
5. 「Authorization」（認証データ）  
6. 「Accept」（受信可能なデータのMIMEタイプ）  
7. 「If-Modified-Since」（指定した日付以降に更新されていたらデータの送信を要求）  
(例：メッセージヘッダ参照)
~~~

**メッセージ本体**は、Webサーバにデータを送るために使用する。

例えば、Webページ上で入力欄がある場合、そこに入力したテキスト情報をWebサーバに送るために使用。入力情報がなければ空欄となる。  
GETメソッドでは、空欄になるが、POSTメソッドやPUTメソッドでは、受け渡される情報が記述される。    
(例：メッセージボディ参照)

![image](https://github.com/MasatoKihara25/task5/assets/162205053/c9962839-7c7b-43e8-b5ef-2cfaf985068c)

### 　HTTPレスポンスの構成 ###

![image](https://github.com/MasatoKihara25/task5/assets/162205053/e5c86152-e65f-4b2e-b08a-03bcc074d1ad)

**ステータス行**は、HTTPリクエストの結果が表示される。  
リクエストに基づいてサーバーが行った処理について、結果が表示される。  
ステータス行の中身は、スペースを区切りとして、3つの部分に分かれる。  
ステータス行の中身については以下の画像を参照。

![img.png](img.png)

**ステータスコード**はサーバーがリクエストの処理を試みた結果を示している。  
多くの場合、レスポンスに含まれる情報の中で、このコードが最も重要な意味を持つ。
~~~
「200」はリクエストが正常に処理されたことを表す。   
「201」はリクエストが成功してリソースの作成が完了。  
「400」は一般的なクライアントエラー。  
「401」はリクエストの実行に認証（通常はIDとパスワードの指定）が必要であることを知らせる。  
「404」は対象のファイルなどが見つからないことを表す。  
「500」は、処理の途中でサーバー内部にエラーが発生したことを表す
~~~
**ヘッダーフィールド**(**レスポンスヘッダー**)は、ステータス行の詳細な情報を改行で区切って列挙している。  
個々のフィールドは「**フィールド名: 値**」という簡潔な書式で記述される。  
主なフィールドとしては以下が挙げられる。
~~~
1. 「Location」（リダイレクト先URL）    
2. 「Server」（Webサーバソフトの識別名）  
3. 「Age」（プロキシのキャッシュに存在する時間）  
4. 「Set-Cookie」（ブラウザ側にサイトデータを保存）  
5. 「Vary」（文字コードなど複数の選択肢がある場合にサーバが選んだものを通知）
~~~
**メッセージ本体**(**レスポンスボディ**)は、HTTPリクエストに対するサーバー側の応答内容の本文である。リクエストされたURLに対するHTMLや画像などのデータが記載されている。

## JSONとは ##

JSONは、*JavaScript Object Notation*の略で、JavaScriptというプログラミング言語におけるオブジェクトの書き方を参考に作られたデータフォーマット(データの記述形式)のことである。  
**人間とコンピューターの双方にとって可読性が高く、データが重くなりづらい**という特性がある。

### JSONの主な用途

1. **データの保存用の形式**  
   JSONは、データを保存するための形式として使用される。

1. **異なるプログラミング言語、環境間でのデータのやり取り**  
   JSONはテキストを用いたデータ表記方法であるため、非常に汎用性が高い。  
   幅広い環境で使用できるため、異なる言語、環境の間でデータの受け渡しや共有をする時に役立つ。

### JSONの記述方法　

`{“キー”、”値”}`というように、キーと値がセットになった形式で記述する。  
`{“Prefecture” : “Hyogo”}`

キーと値の組み合わせが複数ある場合は、カンマで区切る。  
`{“Prefecture” : “Hyogo”, “Capital” : “Kobe”},`

さらに入れ子のように複数のJSONデータを組み合わせることができる。
~~~
{“Prefecture” : “Hyogo”, “Capital” : “Kobe”,  
“Information” : {“Population” : 153.7, “Gourmet” : “beef”}}
~~~
配列を扱う場合は{}ではなく[]を使用。配列とは、同じ型のデータを一列に並べたものである。
~~~
{“Prefecture” : “Hyogo”, “Capital” : “Kobe”,  
“Population Ratio: [0.526, 0.474]},
~~~


### JSONが対応するデータ型

⑴	文字列型

文字列を扱うことができる。以下のようにダブルクォーテーションで囲む。  
`{“Prefecture” : “Hyogo”}`  
`{“Prefecture” : “埼玉”, “Capital” : “さいたま”}`

⑵	数値型

数値は以下のようにダブルクォーテーションで囲わない。  
`{“Number” : 1}`

⑶	Bool

boolとは真（true）か偽（false）いずれかの値をとるデータ型。  
`{“Attendance” : true}`

⑷	null

項目として用意されているが、該当する値がない場合、使用する。  
`{“Number” : 2, “Prefecture” : “Aichi”, “Capital” : “Nagoya”, “Famous Attraction” : null},`

### ＪＳＯＮを使用したデータ表現

ユーザー情報を作成([https://jsonformatter.curiousconcept.com/]())

    {
        "user_info":{ 
           "user_id":1,
           "user_name":"kimura", 
           "user_country":"japan",
           "marriage":true, 
           "phone_num":null 
        }
    }
